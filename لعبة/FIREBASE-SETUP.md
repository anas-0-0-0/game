# تفعيل المزامنة بين الأجهزة (Firebase)

حتى يستطيع الطلاب الانضمام من **أجهزة أخرى** (جوال، تابلت، جهاز ثاني)، يجب تفعيل Firebase مرة واحدة.

## لماذا؟
بدون Firebase، الغرفة واللعبة تُخزَّن في **ذاكرة المتصفح (localStorage)** على جهاز المعلم فقط، لذلك جهاز الطالب لا يرى الغرفة. مع Firebase تُخزَّن البيانات على السحابة ويستطيع الجميع الوصول لها.

## الخطوات (مرة واحدة)

### 1. إنشاء مشروع Firebase
- ادخل إلى: **https://console.firebase.google.com**
- اضغط **إضافة مشروع** (أو استخدم مشروعاً موجوداً)
- اختر اسم المشروع واضغط **متابعة** ثم **إنشاء المشروع**

### 2. تفعيل Realtime Database
- من القائمة الجانبية: **Build** → **Realtime Database**
- اضغط **إنشاء قاعدة البيانات**
- اختر موقعاً (مثل `europe-west1`) ثم **التالي**
- في **قواعد الأمان** اختر **وضع الاختبار** (للتجربة) ثم **تفعيل**
- بعد الإنشاء، انسخ **رابط قاعدة البيانات** (شكلها: `https://اسم-المشروع-default-rtdb.firebaseio.com`)

### 3. الحصول على إعدادات التطبيق
- من ⚙️ **إعدادات المشروع** → **عام** → **تطبيقاتك**
- اضغط أيقونة الويب `</>` → أدخل اسماً للتطبيق → **تسجيل التطبيق**
- انسخ كائن `firebaseConfig` (يحتوي على apiKey, authDomain, databaseURL, إلخ)

### 4. تعديل الملف `firebase-config.js`
- افتح الملف **firebase-config.js** في مجلد اللعبة
- الصق قيم المشروع مكان النص المؤقت:
  - `apiKey`: من النسخة التي نسختها
  - `authDomain`: مثل `مشروعك.firebaseapp.com`
  - `databaseURL`: مثل `https://مشروعك-default-rtdb.firebaseio.com`
  - `projectId`, `storageBucket`, `messagingSenderId`, `appId`: كما في الإعدادات
- غيّر السطر التالي من `false` إلى `true`:
  ```js
  const FIREBASE_ENABLED = true;
  ```
- احفظ الملف

### 5. رفع الملفات من جديد
- ارفع المشروع من جديد إلى Netlify (أو الخادم) بحيث يتضمن التعديل على **firebase-config.js**

## بعد التفعيل
- المعلم يفتح اللعبة ويُنشئ غرفة كالعادة
- الطالب يفتح **نفس رابط الموقع** من جهاز آخر، يدخل كود الغرفة، ويُنضم بنجاح
- بدء اللعبة والأسئلة والإجابات تظهر على جميع الأجهزة

## ملاحظات
- **بدون تفعيل Firebase**: اللعبة تعمل فقط عندما المعلم والطالب من **نفس الجهاز** (مثلاً متصفحين على نفس الكمبيوتر)
- **مع تفعيل Firebase**: اللعبة تعمل بين أي أجهزة متصلة بالإنترنت وتفتح نفس رابط الموقع
